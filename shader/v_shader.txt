uniform vec4 eyepos;
uniform vec3 fluidColor;

attribute float fThickA;

varying float fThick;
varying vec3 reflectvec;
varying vec3 refractvec;

void main(void)
{
    vec4 pos = normalize(gl_ModelViewMatrix * gl_Vertex);     
    pos = pos / pos.w;
    
    vec3 eyevec = normalize(eyepos.xyz - pos.xyz);
    vec3 norm = normalize(gl_NormalMatrix * gl_Normal);
    
    reflectvec = reflect(eyevec, norm);
    refractvec = refract(eyevec, norm, 1);
    
    fThick = fThickA;
    
    gl_Position = ftransform();
}
